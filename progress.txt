## Iteration 4 - February 5, 2026

**Built:** Initialized Rust build system with minimal binary entrypoint.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** Cargo.toml, src/main.rs, PRD.md, progress.txt
**Next:** Decide UI approach and implement basic window rendering.

## Iteration 5 - February 5, 2026

**Built:** Added a minimal native window using winit to validate basic UI rendering.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** Cargo.toml, src/main.rs, PRD.md, progress.txt
**Next:** Choose a rendering layer (egui or wgpu) and draw a placeholder message list.

## Iteration 6 - February 5, 2026

**Built:** Integrated egui + wgpu and rendered a placeholder message list UI.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** Cargo.toml, src/main.rs, PRD.md, progress.txt
**Next:** Add a lightweight message model and render from structured data (prep for real history).

## Iteration 7 - February 5, 2026

**Built:** Added a lightweight message model and rendered messages from structured data.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Introduce a local message store (SQLite schema) and load messages from it.

## Iteration 8 - February 5, 2026

**Built:** Added a local SQLite message store (schema + seed) and load messages from it at startup.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** Cargo.toml, src/main.rs, PRD.md, progress.txt
**Next:** Add a minimal message composer and persist new messages into SQLite.

## Iteration 9 - February 5, 2026

**Built:** Added a message composer, inserted new messages into SQLite, and appended them to the in-memory list.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Improve composer UX (send on Enter + focus) and introduce channels/DM scaffolding.

## Iteration 10 - February 5, 2026

**Built:** Improved composer UX to send on Enter when focused and keep focus after sending.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Introduce channels/DM scaffolding.

## Iteration 11 - February 5, 2026

**Built:** Added channel/DM scaffolding with a sidebar, channel table, and per-channel message filtering.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Add per-channel composer placeholder metadata (typing indicator stub).

## Iteration 12 - February 5, 2026

**Built:** Added per-channel composer metadata with contextual placeholder text and a typing indicator stub.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Add WebSocket client scaffolding for real-time sync.

## Iteration 13 - February 5, 2026

**Built:** Added per-channel typing indicator state updates tied to recent local input and channel-specific drafts.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Add basic per-channel typing indicator state updates.

## Iteration 14 - February 5, 2026

**Built:** Added WebSocket client scaffolding with a background worker plus connect/disconnect controls and status UI.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** Cargo.toml, src/main.rs, PRD.md, progress.txt
**Next:** Hook WebSocket events into message send/receive flows.

## Iteration 15 - February 5, 2026

**Built:** Wired WebSocket send/receive into the message flow, persisted inbound messages, and reflected them in the UI.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Define a real message protocol and server integration for reliable sync.

## Iteration 16 - February 5, 2026

**Built:** Replaced the ad-hoc WebSocket payload with a JSON message envelope plus legacy fallback parsing for inbound sync.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** Cargo.toml, src/main.rs, PRD.md, progress.txt
**Next:** Define the server-side sync contract and add a small local mock server for integration testing.

## Iteration 17 - February 5, 2026

**Built:** Added a local mock WebSocket server binary that echoes/broadcasts messages for integration testing.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/bin/mock_server.rs, PRD.md, progress.txt
**Next:** Define a clearer server-side sync contract (auth, ack, presence) and wire it into the mock server.

## Iteration 18 - February 5, 2026

**Built:** Defined realtime auth/ack/presence payloads, added client auth handshake, and taught the mock server to issue acks + presence updates.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, src/bin/mock_server.rs, PRD.md, progress.txt
**Next:** Add real presence tracking UI and persist presence state for channels/DMs.

## Iteration 19 - February 6, 2026

**Built:** Added realtime presence state, channel/DM presence UI summaries, and online member counts with last update details.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Add message search UI backed by SQLite queries.

## Iteration 20 - February 6, 2026

**Built:** Added a SQLite-backed message search bar with channel-scoped filtering and search results rendering.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Add file attachment handling (ingest + render previews).

## Iteration 21 - February 6, 2026

**Built:** Added attachment drafting via local file paths, persisted attachment metadata, and rendered attachment previews in the message list.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Add richer attachment previews (image thumbnails) and inbound attachment handling.

## Iteration 22 - February 6, 2026

**Built:** Added realtime attachment payloads plus inbound attachment persistence and UI availability for synced messages.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, src/bin/mock_server.rs, PRD.md, progress.txt
**Next:** Add richer attachment previews (image thumbnails) and inbound attachment rendering polish.

## Iteration 23 - February 6, 2026

**Built:** Added cached image thumbnail previews for image attachments with fallback messaging on decode/load errors.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** Cargo.toml, src/main.rs, PRD.md, progress.txt
**Next:** Add inline attachment actions (open/reveal) and consider async loading for large images.

## Iteration 24 - February 6, 2026

**Built:** Added inline attachment actions to open or reveal files from the message list.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Consider async loading for large image previews.

## Iteration 25 - February 6, 2026

**Built:** Offloaded image thumbnail decoding/resizing to background threads and applied results on the UI thread.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Measure startup/memory baselines and document perf benchmarks.

## Iteration 26 - February 6, 2026

**Built:** Added performance benchmark scripts for startup + memory, added first-frame timing log, and recorded baseline metrics in BENCHMARKS.md.
**Performance:** Startup p50 276.08ms, p95 928.01ms; Memory max RSS 101.2MB
**Files changed:** src/main.rs, perf_tests/startup_bench.py, perf_tests/memory_bench.sh, BENCHMARKS.md, PRD.md, progress.txt
**Next:** Improve startup time and reduce memory usage to hit <200ms cold / <100MB targets.

## Iteration 27 - February 6, 2026

**Built:** Deferred attachment + channel member loading to a background thread so the first frame can render sooner.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Measure startup baseline again and target the next biggest startup contributors.

## Iteration 28 - February 6, 2026

**Built:** Deferred initial message loading to a background thread and added a loading state while messages hydrate.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run startup/memory benchmarks to confirm the impact and pick the next biggest startup contributors.

## Iteration 29 - February 6, 2026

**Built:** Re-ran startup + memory benchmarks after async message loading and refreshed benchmark results.
**Performance:** Startup p50 226.22ms, p95 268.57ms; Memory max RSS 101.8MB
**Files changed:** BENCHMARKS.md, PRD.md, progress.txt
**Next:** Continue reducing cold startup and memory to hit <200ms / <100MB targets.

## Iteration 30 - February 6, 2026

**Built:** Lowered the initial message fetch limit to reduce baseline memory usage.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run memory benchmarks to confirm <100MB and continue trimming cold startup.

## Iteration 31 - February 6, 2026

**Built:** Re-ran the memory benchmark after lowering the initial message fetch limit and refreshed benchmark results.
**Performance:** Startup: not measured, Memory: max RSS 102.0MB
**Files changed:** BENCHMARKS.md, PRD.md, progress.txt
**Next:** Reduce baseline memory usage further to get under 100MB, then re-run benchmarks.

## Iteration 32 - February 6, 2026

**Built:** Reduced the initial message fetch limit further to trim baseline memory usage.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run memory benchmarks to confirm we are under 100MB and continue trimming cold startup.

## Iteration 33 - February 6, 2026

**Built:** Reduced the initial message fetch limit again to lower baseline memory usage.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run memory benchmarks to confirm we are under 100MB and continue trimming cold startup.

## Iteration 34 - February 6, 2026

**Built:** Added capped attachment thumbnail + error caches with FIFO eviction to curb preview memory growth.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run memory benchmark to see if the thumbnail cache cap nudges RSS below 100MB.

## Iteration 35 - February 6, 2026

**Built:** Re-ran the memory benchmark after capping the attachment thumbnail cache and updated results.
**Performance:** Startup: not measured, Memory: max RSS 103.8MB
**Files changed:** BENCHMARKS.md, PRD.md, progress.txt
**Next:** Continue reducing baseline memory usage to get under 100MB, then re-run memory benchmarks.

## Iteration 36 - February 6, 2026

**Built:** Reduced the initial message fetch limit further to trim baseline memory usage.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run the memory benchmark to confirm whether RSS drops below 100MB.

## Iteration 37 - February 6, 2026

**Built:** Re-ran the memory benchmark after the latest fetch-limit reduction and refreshed benchmark bytes.
**Performance:** Startup: not measured, Memory: max RSS 103.8MB
**Files changed:** BENCHMARKS.md, PRD.md, progress.txt
**Next:** Continue reducing baseline memory usage to get under 100MB, then re-run memory benchmarks.

## Iteration 38 - February 6, 2026

**Built:** Reduced attachment thumbnail cache + error cache limits to lower baseline memory usage.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run the memory benchmark to see if RSS drops below 100MB.

## Iteration 39 - February 6, 2026

**Built:** Reduced the initial message fetch limit again to trim baseline memory usage.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run the memory benchmark to see if RSS drops below 100MB.

## Iteration 40 - February 6, 2026

**Built:** Reduced attachment thumbnail max dimension to lower per-image memory usage.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run the memory benchmark to see if RSS drops below 100MB.

## Iteration 41 - February 6, 2026

**Built:** Re-ran the memory benchmark after the thumbnail dimension reduction and updated benchmark results.
**Performance:** Startup: not measured, Memory: max RSS 97.7MB
**Files changed:** BENCHMARKS.md, PRD.md, progress.txt
**Next:** Re-run startup benchmarks to continue pushing cold start below 200ms.

## Iteration 42 - February 6, 2026

**Built:** Re-ran startup benchmarks after recent memory optimizations and updated benchmark results.
**Performance:** Startup p50 248.62ms, p95 379.62ms; Memory: not measured
**Files changed:** BENCHMARKS.md, PRD.md, progress.txt
**Next:** Identify the next cold-start bottleneck to reach <200ms (profile startup path, trim heavy init).

## Iteration 43 - February 6, 2026

**Built:** Deferred channel/message seeding and channel loading to the background hydrate path, updating channel metadata after deferred loads to reduce cold-start work.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run startup benchmarks to see if cold start drops closer to <200ms.

## Iteration 44 - February 6, 2026

**Built:** Re-ran startup benchmarks after deferred channel/message loading changes and recorded updated results.
**Performance:** Startup p50 300.52ms, p95 440.98ms; Memory: not measured
**Files changed:** BENCHMARKS.md, PRD.md, progress.txt
**Next:** Identify and trim the next cold-start bottleneck to reach <200ms.

## Iteration 45 - February 6, 2026

**Built:** Deferred realtime worker initialization until connect to reduce cold-start background work.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run startup benchmarks to see if cold start improves and trim remaining startup bottlenecks.

## Iteration 46 - February 6, 2026

**Built:** Restricted wgpu initialization to Metal to cut adapter enumeration on cold start.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run startup benchmarks to confirm impact on cold start.

## Iteration 47 - February 6, 2026

**Built:** Re-ran startup benchmarks after the Metal-only backend change and updated benchmark results.
**Performance:** Startup p50 279.92ms, p95 849.41ms; Memory: not measured
**Files changed:** BENCHMARKS.md, PRD.md, progress.txt
**Next:** Identify and trim the next cold-start bottleneck to reach <200ms.

## Iteration 48 - February 6, 2026

**Built:** Deferred SQLite schema initialization into the background hydrate and disabled search/composer interactions until messages load to reduce cold-start DB work.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run startup benchmarks to see if cold start improves and identify the next bottleneck.

## Iteration 49 - February 6, 2026

**Built:** Deferred opening the on-disk SQLite connection until the background hydrate completes to reduce cold-start IO.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run startup benchmarks to confirm cold-start impact and keep trimming the biggest startup bottlenecks.

## Iteration 50 - February 6, 2026

**Built:** Deferred the background hydrate thread until after the first frame renders to reduce cold-start work.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run startup benchmarks to confirm the cold-start impact and keep trimming startup bottlenecks.

## Iteration 51 - February 6, 2026

**Built:** Re-ran startup benchmarks after deferring hydrate and updated benchmark results.
**Performance:** Startup p50 218.37ms, p95 411.36ms; Memory: not measured
**Files changed:** BENCHMARKS.md, PRD.md, progress.txt
**Next:** Identify and trim the next cold-start bottleneck to reach <200ms.

## Iteration 52 - February 6, 2026

**Built:** Added inline rich text rendering for message bodies (bold/italic/code).
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Identify and trim the next cold-start bottleneck to reach <200ms.

## Iteration 53 - February 6, 2026

**Built:** Switched wgpu adapter power preference to LowPower to favor faster cold start.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Re-run startup benchmarks to see if cold start improves toward <200ms.

## Iteration 54 - February 6, 2026

**Built:** Re-ran startup benchmarks after switching to LowPower adapter preference and recorded updated results.
**Performance:** Startup p50 209.63ms, p95 329.22ms; Memory: not measured
**Files changed:** BENCHMARKS.md, PRD.md, progress.txt
**Next:** Identify the next cold-start bottleneck to reach <200ms.

## Iteration 55 - February 6, 2026

**Built:** Switched to event-driven repaint scheduling with background-thread wake events to reduce idle CPU while keeping realtime/deferred updates responsive.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Measure idle CPU and re-run startup benchmarks to confirm <200ms cold start.

## Iteration 56 - February 6, 2026

**Built:** Added an idle CPU benchmark script to sample process usage while the app is idle.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** perf_tests/idle_cpu_bench.sh, PRD.md, progress.txt
**Next:** Run the idle CPU benchmark and re-run startup benchmarks to confirm <200ms cold start.

## Iteration 57 - February 6, 2026

**Built:** Set the event loop to wait after requesting redraws (instead of polling) to reduce idle CPU overhead.
**Performance:** Startup: not measured, Memory: not measured
**Files changed:** src/main.rs, PRD.md, progress.txt
**Next:** Run the idle CPU benchmark and re-run startup benchmarks to confirm <200ms cold start.

## Iteration 58 - February 6, 2026

**Built:** Fixed repaint delay overflow that could panic when egui requested no repaint; ran the idle CPU benchmark and recorded results.
**Performance:** Idle CPU avg 3.53%
**Files changed:** src/main.rs, BENCHMARKS.md, PRD.md, progress.txt
**Next:** Reduce idle CPU toward <1% and re-run startup benchmarks to confirm <200ms cold start.
